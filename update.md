##### 1. Использование переменных среды:

###### В новом коде добавлена загрузка токена Discord из переменных среды с использованием библиотеки python-dotenv (load_dotenv() и os.getenv('DISCORD_TOKEN')).

##### 2. Добавление обработчика отключения от Discord:

###### Добавлено событие on_disconnect(), в котором вызывается метод database.close() для закрытия соединения с базой данных при отключении бота.

##### 3. Улучшение структуры кода:

###### В новом коде введены функции для генерации представлений (views) и их обработчиков для разных сценариев (view_generation, practicum_fun, project_fun, programmer_fun).
###### Переименована переменная modul на module для более корректного написания.
###### Используются асинхронные функции и обработчики взаимодействий (on_interaction).

##### 4. Улучшение логики кода:

###### Убраны неиспользуемые части кода, такие как команда !clear.
###### Добавлены проверки при обработке сообщений, такие как проверка, что сообщение не от бота и что содержимое сообщения не начинается с префикса (!).
###### Улучшена логика обработки сообщений и вопросов от пользователя.

##### Общий результат: 
###### Новый код стал более структурированным, использование асинхронных функций и взаимодействия с кнопками делают его более эффективным и расширяемым. Также, код стал более гибким за счет использования переменных среды для хранения токена Discord.

Там ещё по мелочам и функциям которые не расписал))) 


#### Разжуём по строчкам файл commands.py
###### import asyncio: Импортирует модуль asyncio для работы с асинхронными задачами.

###### import os: Импортирует модуль os для работы с операционной системой, также используется для получения переменных окружения.

###### from dotenv import load_dotenv: Импортирует функцию load_dotenv из библиотеки python-dotenv для загрузки переменных окружения из файла .env.

###### import discord: Импортирует библиотеку discord для работы с Discord API.

###### from discord.ext import commands: Импортирует классы для создания команд и бота с использованием discord.py.

###### from discord import ButtonStyle: Импортирует стили кнопок из discord.py.

###### from discord.ui import View, Button, Select: Импортирует классы для создания кастомных интерфейсов в discord.py.

###### from database import Database: Импортирует класс Database из файла database.py.

###### from course_structure import *: Импортирует все переменные и структуры из файла course_structure.py.

###### class Question: Определяет класс Question, который используется для хранения информации о текущем вопросе.

###### load_dotenv(): Загружает переменные окружения из файла .env.

###### token = os.getenv('DISCORD_TOKEN'): Получает токен бота из переменных окружения.

###### intents = discord.Intents.default().all(): Создает объект intents для использования определенных событий Discord.

###### prefix = '!': Задает префикс для команд бота.

###### bot = commands.Bot(command_prefix=prefix, intents=intents): Создает экземпляр бота с указанным префиксом и intents.

###### bot.remove_command('help'): Удаляет стандартную команду "help", чтобы заменить ее собственной реализацией.

###### question = Question(): Создает экземпляр класса Question для хранения информации о вопросе.

###### database = Database('bot_database.db'): Создает экземпляр класса Database, представляющий базу данных бота.

###### def view_generation(dic): Определяет функцию для создания объекта представления и выпадающего списка на основе переданного словаря.

###### async def background_task(coro, *args, **kwargs): Определяет функцию для выполнения асинхронной задачи в фоновом режиме.

###### @bot.group(invoke_without_command=True): Определяет группу команд "help" для вывода справки по командам.

###### @help.command(): Определяет подкоманды для "help".

###### @bot.command(): Определяет общие команды бота.

###### @bot.event: Определяет обработчики событий бота, такие как on_ready, on_message, on_command_error, on_interaction, и on_disconnect.

###### @bot.command(): Определяет команду asck для запроса ответа на вопрос.

###### @bot.command(): Определяет команду add_answer для добавления ответа в базу данных.

###### @bot.event: Определяет обработчик события on_disconnect для закрытия соединения с базой данных при отключении бота.

###### bot.run(token): Запускает бота с использованием указанного токена.